\section{$S$-многочлены. Критерий Бухбергера}

Пусть $f_1$, $f_2 \in R$.

Рассмотрим $m = \lcm(L(f_1), L(f_2)) \in M$.

Пусть $m_1, m_2 \in M$ таковы, что $m = m_1 L(f_1) = m_2 L(f_2)$.

\begin{definition}
    Многочлен $S(f_1, f_2) := m_1 f_1 - m_2 f_2$ называется \textit{$S$-многочленом}, построенным по $f_1$, $f_2$.
\end{definition}

\begin{comment}
    $S(f_2, f_1) = -S(f_1, f_2)$.
\end{comment}

\begin{theorem}[Критерий Бухбергера]
    Для системы $F \subseteq R \setminus \{0\}$ следующие условия эквивалентны:
    \begin{enumerate}
    \item $F$ --- система Грёбнера;
    \item $\forall f_1, f_2 \in F \quad S(f_1, f_2) \overset{F}{\rightsquigarrow} 0$.
    \end{enumerate}
\end{theorem}

\begin{proof}~
    \begin{description}
        \item[$(1) \implies (2)$] $m = \lcm(L(f_1), L(f_2)) = m_1 \cdot L(f_1) = m_2 \cdot L(f_2)$.

            Значит $m_1 f_1 \xrightarrow[]{f_1} 0$ и $m_1 f_1 \xrightarrow[]{f_2} \left[m_1 f_1 - m_2 f_2\right] = S(f_1, f_2) \overset{F}{\rightsquigarrow} r$ --- остаток.

            Но так как $F$ --- система Грёбнера, $r = 0$.

        \item[$(2) \implies (1)$] Пусть $g \in R$, $m_1, m_2 \in M(g)$ и мы сделали элементарную редукцию $m_1$ при помощи $f_1 \in F$ и $m_2$ при помощи $f_2$.
            \begin{gather*}
                m_1 = m_1' \cdot L(f_1), \quad m_2 = m_2' \cdot L(f_2) \\
                g \xrightarrow[]{f_1} g_1 = g - m_1' f_1, \quad g \xrightarrow[]{f_2} g_2 = g - m_2' f_2
            .\end{gather*}

            Достаточно показать, что $\underbrace{g_1 - g_2}_{m_2' f_f - m_1' f_1} \overset{F}{\rightsquigarrow} 0$.

            \begin{description}
                \item[Случай 1] $L(m_2' f_2)$ и $L(m_1' f_1)$ не пропорциональны, можно считать $L(m_2' f_2) \succ L(m_1' f_1)$.
                    \begin{equation*}
                        m_2' f_2 - m_1' f_1 \xrightarrow[]{f_2} -m_1' f_1 \xrightarrow[]{f_1} 0
                    .\end{equation*}

                \item[Случай 2] $L(m_2'f_2) = L(m_1'f_1)$. Тогда $\exists m \in M$, такое что $m_2' f_2 - m_1' f_1 = m S(f_1, f_2) \overset{F}{\rightsquigarrow} 0$.

                \item[Случай 3] $L(m_2'f_2) = \alpha L(m_1' f_1)$ при $\alpha \neq 1$.
                    Тогда $L(m_2' f_2 - m_1' f_1) = (\alpha - 1) L(m_1' f_1)$. Значит,
                    \begin{equation*}
                        m_2' f_2 - m_1' f_1 \xrightarrow[]{f_1} m_2' f_2 - m_1' f_1 - (\alpha - 1) m_1' f_1 = m_2' f_2 - \alpha m_1' f_1
                    .\end{equation*}

                    Получили $L(m_2' f_2) = L(\alpha m_1' f_1)$, а значит попали в случай 2.
                    \qedhere
            \end{description}
    \end{description}
\end{proof}

\begin{corollary}
    Если $f_1, f_2 \in F, \quad S(f_1, f_2) \overset{F}{\rightsquigarrow} r$ --- остаток и $r \neq 0$, то $F$ --- не система Грёбнера. 
\end{corollary}

\begin{proof}
    Если $F$ --- система Грёбнера, то $S(f_1, f_2) \rightsquigarrow 0$ и $S(f_1, f_2) \rightsquigarrow r$.
    Так как остаток определен однозначно, то $r = 0$ --- противоречие.
\end{proof}
